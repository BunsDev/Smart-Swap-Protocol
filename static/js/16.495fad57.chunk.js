(this.webpackJsonpsmartswap=this.webpackJsonpsmartswap||[]).push([[16],{1044:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ce}));var r=n(13),a=n.n(r),i=n(28),u=n(7),o=n(8),c=n(108),l=n(2),s=n(0),f=n.n(s),m=n(49),d=n(45),b=n(15),p=n(58),h=n(3),v=n(18),E=n(907),g=n(830),y=n(912);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var T=f.a.createElement("path",{d:"M1 6H6M11 6L6 6M6 1V6M6 6L6 11",stroke:"#2F80ED",strokeLinecap:"round"}),w=function(e){var t=e.svgRef,n=e.title,r=j(e,["svgRef","title"]);return f.a.createElement("svg",O({width:12,height:12,viewBox:"0 0 12 12",fill:"none",ref:t},r),n?f.a.createElement("title",null,n):null,T)},A=f.a.forwardRef((function(e,t){return f.a.createElement(w,O({svgRef:t},e))})),N=(n.p,n(852)),k=n(10),x=n(16),D=n(6),U=n(78),L=n(77),S=n(73),R=n(147);function V(){var e=Object(l.a)(["\n  width: 0.625rem;\n  height: 0.625rem;\n  position: relative;\n  padding: 0.875rem;\n  path {\n    stroke: ",";\n  }\n"]);return V=function(){return e},e}function P(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 2rem;\n\n  button {\n    max-width: 20rem;\n  }\n"]);return P=function(){return e},e}function C(){var e=Object(l.a)(["\n  flex: 1 1 auto;\n  width: 0;\n  color: ",";\n"]);return C=function(){return e},e}function M(){var e=Object(l.a)(["\n  ",";\n  align-items: center;\n  color: ",";\n  font-size: 0.75rem;\n  padding: 0.25rem 1rem 0;\n"]);return M=function(){return e},e}function H(){var e=Object(l.a)(["\n  ","\n  padding: 1rem 0;\n"]);return H=function(){return e},e}function _(){var e=Object(l.a)(["\n  ","\n  justify-content: center;\n  align-items: center;\n"]);return _=function(){return e},e}function W(){var e=Object(l.a)(["\n  margin-top: 1rem;\n"]);return W=function(){return e},e}function Z(){var e=Object(l.a)(["\n  font-size: 0.8rem;\n  line-height: 1rem;\n  text-align: center;\n\n  :first-child {\n    padding-bottom: 0.3rem;\n    font-weight: 500;\n  }\n"]);return Z=function(){return e},e}function z(){var e=Object(l.a)(["\n  margin-top: 1rem;\n  padding: 1rem;\n\n  border: 1px solid rgba($pizazz-orange, 0.4);\n  background-color: rgba($pizazz-orange, 0.1);\n  border-radius: 1rem;\n"]);return z=function(){return e},e}function B(){var e=Object(l.a)(["\n  color: ",";\n"]);return B=function(){return e},e}var F=b.ethers.utils.bigNumberify(200),I=b.ethers.utils.bigNumberify(1e3),q=h.d.span(B(),(function(e){return e.theme.royalBlue})),G=h.d.div(z()),J=h.d.div(Z()),Y=h.d.div(W()),$=h.d.div(_(),(function(e){return e.theme.flexRowNoWrap})),K=h.d.div(H(),(function(e){return e.theme.flexColumnNoWrap})),Q=h.d.div(M(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.doveGray})),X=h.d.span(C(),(function(e){return e.theme.doveGray})),ee=h.d.div(P()),te=Object(h.d)((function(e){e.isError,e.highSlippageWarning;var t=Object(c.a)(e,["isError","highSlippageWarning"]);return f.a.createElement(A,t)}))(V(),(function(e){var t=e.active,n=e.theme;return t?n.royalBlue:n.chaliceGray}));function ne(e){if(e){var t=e.mul(F).div(b.ethers.utils.bigNumberify(1e4)),n=e.sub(t),r=e.add(t);return{minimum:n.lt(b.ethers.constants.Zero)?b.ethers.constants.Zero:n,maximum:r.gt(b.ethers.constants.MaxUint256)?b.ethers.constants.MaxUint256:r}}return{}}function re(e){if(e)return e.mul(b.ethers.utils.bigNumberify(1e4)).div(F.add(b.ethers.utils.bigNumberify(1e4)))}function ae(e){return{inputValue:e.ethAmountURL?e.ethAmountURL:"",outputValue:e.tokenAmountURL&&!e.ethAmountURL?e.tokenAmountURL:"",lastEditedField:e.tokenAmountURL&&""===e.ethAmountURL?1:0,outputCurrency:e.tokenURL?e.tokenURL:""}}function ie(e,t){switch(t.type){case"SELECT_CURRENCY":return Object(o.a)({},e,{outputCurrency:t.payload});case"UPDATE_VALUE":var n=e.inputValue,r=e.outputValue,a=t.payload,i=a.field,u=a.value;return Object(o.a)({},e,{inputValue:0===i?u:n,outputValue:1===i?u:r,lastEditedField:i});case"UPDATE_DEPENDENT_VALUE":var c=e.inputValue,l=e.outputValue,s=t.payload,f=s.field,m=s.value;return Object(o.a)({},e,{inputValue:0===f?m:c,outputValue:1===f?m:l});default:return ae()}}function ue(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{if(e&&(t||0===t)&&n&&(r||0===r)){var i=b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18));return a?e.mul(i).mul(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(r))).div(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(t))).div(n):n.mul(i).mul(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(t))).div(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(r))).div(e)}}catch(u){}}function oe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ue(e,18,t,n,r)}function ce(e){var t=e.params,n=Object(m.b)().t,r=Object(k.n)(),o=r.library,c=r.account,l=r.active,h=r.chainId,O={};t.token&&(O[t.token]=!0),Object(s.useEffect)((function(){Object(d.a)().push(window.location.pathname+"")}),[]);var j=Object(s.useReducer)(ie,{ethAmountURL:t.ethAmount,tokenAmountURL:t.tokenAmount,tokenURL:t.token},ae),T=Object(u.a)(j,2),w=T[0],A=T[1],V=w.inputValue,P=w.outputValue,C=w.lastEditedField,M=w.outputCurrency,H=Object(s.useState)(),_=Object(u.a)(H,2),W=_[0],Z=_[1],z=Object(s.useState)(),B=Object(u.a)(z,2),F=B[0],ue=B[1],ce=Object(s.useState)(),le=Object(u.a)(ce,2),se=le[0],fe=le[1],me=Object(s.useState)(),de=Object(u.a)(me,2),be=de[0],pe=de[1],he=Object(s.useState)(),ve=Object(u.a)(he,2),Ee=ve[0],ge=ve[1],ye=Object(s.useState)(),Oe=Object(u.a)(ye,2),je=Oe[0],Te=Oe[1],we=Object(L.d)(M),Ae=we.symbol,Ne=we.decimals,ke=we.exchangeAddress,xe=Object(k.h)(ke);"CDAI"!==Ae&&"LAND"!==Ae||(je=!0);var De=Object(s.useState)(),Ue=Object(u.a)(De,2),Le=Ue[0],Se=Ue[1],Re=Object(s.useCallback)((function(){xe&&xe.totalSupply().then((function(e){Se(e)}))}),[xe]);Object(s.useEffect)((function(){return Re(),o.on("block",Re),function(){o.removeListener("block",Re)}}),[Re,o]);var Ve=Object(S.c)(c,ke),Pe=Object(S.c)(ke,"ETH"),Ce=Object(S.c)(ke,M),Me=Object(S.f)(M),He=Me.reserveETH,_e=Me.reserveToken,We=!!(He&&_e&&He.isZero()&&_e.isZero()),Ze=Ve&&Le&&!1===We&&!Le.isZero()?Ve.mul(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18))).div(Le):void 0,ze=Pe&&Ze?Pe.mul(Ze).div(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18))):void 0,Be=Ce&&Ze?Ce.mul(Ze).div(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18))):void 0,Fe=We?W:Le&&W&&Pe&&!Pe.isZero()?Le.mul(W).div(Pe):void 0,Ie=Object(S.c)(c,"ETH"),qe=Object(S.c)(c,M),Ge=Pe&&Le&&!1===We&&!Le.isZero()?Pe.mul(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18))).div(Le):void 0,Je=Ce&&Le&&!1===We&&!Le.isZero()?Ce.mul(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18))).div(Le):void 0,Ye=F&&ne(F).maximum,$e=Fe&&ne(Fe).minimum,Ke=Object(s.useMemo)((function(){return oe(He,_e,Ne)}),[He,_e,Ne]),Qe=Object(s.useMemo)((function(){return oe(He,_e,Ne,!0)}),[He,_e,Ne]);function Xe(){var e=function(e){return f.a.createElement(q,null,e)};return We?f.a.createElement("div",null,f.a.createElement("div",null,n("youAreAdding")," ",e("".concat(V," ETH"))," ",n("and")," ",e("".concat(P," ").concat(Ae))," ",n("intoPool")),f.a.createElement(Y,null,n("youAreSettingExRate")," ",e("1 ETH = ".concat(Object(D.a)(oe(W,F,Ne),18,4,!1)," ").concat(Ae)),"."),f.a.createElement(Y,null,n("youWillMint")," ",e("".concat(V))," ",n("liquidityTokens")),f.a.createElement(Y,null,n("totalSupplyIs0"))):f.a.createElement(f.a.Fragment,null,f.a.createElement("div",null,n("youAreAdding")," ",e("".concat(Object(D.a)(W,18,4)," ETH"))," ",n("and")," ","at most"," ",e("".concat(Object(D.a)(Ye,Ne,Math.min(Ne,4))," ").concat(Ae))," ",n("intoPool")),f.a.createElement(Y,null,n("youWillMint")," ",e(Object(D.a)(Fe,18,4))," ",n("liquidityTokens")),f.a.createElement(Y,null,n("totalSupplyIs")," ",e(Object(D.a)(Le,18,4))),f.a.createElement(Y,null,n("tokenWorth")," ",e(Object(D.a)(Ge,18,4))," ETH ",n("and")," ",e(Object(D.a)(Je,Ne,Math.min(Ne,4)))," ",Ae))}var et=Object(U.e)();function tt(){return(tt=Object(i.a)(a.a.mark((function e(){var t,n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W/1e18*2,n=Math.ceil(Date.now()/1e3)+900,e.next=4,xe.estimate.addLiquidity(We?b.ethers.constants.Zero:$e,We?F:Ye,n,{value:W});case 4:r=e.sent,i=Object(D.b)(r,I),xe.addLiquidity(We?b.ethers.constants.Zero:$e,We?F:Ye,n,{value:W,gasLimit:i}).then((function(e){p.a.event({category:"Transaction",action:"Add Liquidity",label:M,value:t,dimension1:e.hash}),p.a.event({category:"Hash",action:e.hash,label:t.toString()}),et(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e){return"Balance: ".concat(e)}Object(s.useEffect)((function(){Te(!1);for(var e=0;e<x.e.length;e++)x.e[e].toLowerCase()===M.toLowerCase()&&Te(!0)}),[M]),Object(s.useEffect)((function(){if(We){if(ge(),V){var e=b.ethers.utils.parseUnits(V,18);Z(e)}if(P)try{var t=b.ethers.utils.parseUnits(P,Ne);ue(t)}catch(n){ge("Invalid input. For 0 decimal tokens only supply whole number token amounts.")}}}),[Ne,V,We,P]),Object(s.useEffect)((function(){if(!1===We&&V&&Ke&&0===C&&(Ne||0===Ne))try{var e=b.ethers.utils.parseUnits(V,18);if(e.lte(b.ethers.constants.Zero)||e.gte(b.ethers.constants.MaxUint256))throw Error();Z(e);var t=Ke.mul(e).div(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18))).div(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(18-Ne)));return ue(t),A({type:"UPDATE_DEPENDENT_VALUE",payload:{field:1,value:Object(D.a)(t,Ne,Math.min(Ne,4),!1)}}),function(){pe(),Z(),ue(),A({type:"UPDATE_DEPENDENT_VALUE",payload:{field:1,value:""}})}}catch(r){pe(n("inputNotValid"))}}),[V,We,C,Ke,Ne,n]),Object(s.useEffect)((function(){if(!1===We&&P&&Qe&&1===C&&(Ne||0===Ne))try{var e=b.ethers.utils.parseUnits(P,Ne);if(e.lte(b.ethers.constants.Zero)||e.gte(b.ethers.constants.MaxUint256))throw Error();ue(e);var t=Qe.mul(e).div(b.ethers.utils.bigNumberify(10).pow(b.ethers.utils.bigNumberify(Ne)));return Z(t),A({type:"UPDATE_DEPENDENT_VALUE",payload:{field:0,value:Object(D.a)(t,18,4,!1)}}),function(){fe(),ue(),Z(),A({type:"UPDATE_DEPENDENT_VALUE",payload:{field:0,value:""}})}}catch(r){fe(n("inputNotValid"))}}),[P,We,C,Qe,Ne,n]),Object(s.useEffect)((function(){W&&Ie&&(W.gt(Ie)?fe(n("insufficientBalance")):fe(null)),Ye&&qe&&(Ye.gt(qe)?pe(n("insufficientBalance")):pe(null))}),[W,Ie,Ye,qe,n]);var rt=Object(R.b)(c,M,ke),at=Object(s.useState)(!1),it=Object(u.a)(at,2),ut=it[0],ot=it[1];Object(s.useEffect)((function(){if(F&&rt)return rt.lt(F)&&(pe(n("unlockTokenCont")),ot(!0)),function(){pe(),ot(!1)}}),[F,rt,n]);var ct=l&&c,lt=(null===se||null===be)&&!Ee&&!ut&&!je,st="ETH"!==M&&M&&!L.a[h].hasOwnProperty(M),ft=Object(s.useState)(!1),mt=Object(u.a)(ft,2),dt=mt[0],bt=mt[1];return Object(s.useEffect)((function(){bt(!!st)}),[st,bt]),f.a.createElement(f.a.Fragment,null,dt&&f.a.createElement(N.a,{onDismiss:function(){bt(!1)},urlAddedTokens:O,currency:M}),f.a.createElement(E.a,{title:n("deposit"),extraText:Ie&&nt(Object(D.a)(Ie,18,4)),onValueChange:function(e){A({type:"UPDATE_VALUE",payload:{value:e,field:0}})},extraTextClickHander:function(){if(Ie){var e=Ie.sub(b.ethers.utils.parseEther(".1"));e.gt(b.ethers.constants.Zero)&&A({type:"UPDATE_VALUE",payload:{value:Object(D.a)(e,18,18,!1),field:0}})}},selectedTokenAddress:"ETH",value:V,errorMessage:se,disableTokenSelect:!0}),f.a.createElement(g.a,null,f.a.createElement($,null,f.a.createElement(te,{active:ct,alt:"plus"}))),f.a.createElement(E.a,{title:n("deposit"),description:We?"":P?"(".concat(n("estimated"),")"):"",extraText:qe&&Ne&&nt(Object(D.a)(qe,Ne,Math.min(Ne,4))),urlAddedTokens:O,selectedTokenAddress:M,onCurrencySelected:function(e){A({type:"SELECT_CURRENCY",payload:e})},onValueChange:function(e){A({type:"UPDATE_VALUE",payload:{value:e,field:1}})},extraTextClickHander:function(){qe&&A({type:"UPDATE_VALUE",payload:{value:Object(D.a)(re(qe),Ne,Ne,!1),field:1}})},value:P,showUnlock:ut,errorMessage:be}),f.a.createElement(g.a,{hideBottom:!0},f.a.createElement(K,null,f.a.createElement(Q,null,f.a.createElement(X,null,n("exchangeRate")),f.a.createElement("span",null,Ke?"1 ETH = ".concat(Object(D.a)(Ke,18,4)," ").concat(Ae):" - ")),f.a.createElement(Q,null,f.a.createElement(X,null,n("currentPoolSize")),f.a.createElement("span",null,Pe&&Ce?"".concat(Object(D.a)(Pe,18,4)," ETH + ").concat(Object(D.a)(Ce,Ne,Math.min(4,Ne))," ").concat(Ae):" - ")),f.a.createElement(Q,null,f.a.createElement(X,null,n("yourPoolShare")," (",Pe&&Object(D.a)(Ze,16,2),"%)"),f.a.createElement("span",null,ze&&Be?"".concat(Object(D.a)(ze,18,4)," ETH + ").concat(Object(D.a)(Be,Ne,Math.min(4,Ne))," ").concat(Ae):" - ")))),function(){var e="",t=!1;return je?(e=n("brokenToken"),t=!0):Ee?e=Ee:se||be?(e=se||be,t=!0):M?V?c||(e=n("noWallet"),t=!0):e=n("enterValueCont"):e=n("selectTokenCont"),f.a.createElement(y.a,{openDetailsText:n("transactionDetails"),closeDetailsText:n("hideDetails"),contextualInfo:e,isError:t,renderTransactionDetails:Xe})}(),We?f.a.createElement(G,null,f.a.createElement(J,null,f.a.createElement("span",{role:"img","aria-label":"first-liquidity"},"\ud83d\udeb0")," ",n("firstLiquidity")),f.a.createElement(J,{style:{marginTop:"10px"}},n("initialExchangeRate",{symbol:Ae}))):null,We&&f.a.createElement(J,{style:{textAlign:"center",marginTop:"10px"}},n("initialWarning")),f.a.createElement(ee,null,f.a.createElement(v.b,{disabled:!lt,onClick:function(){return tt.apply(this,arguments)}},n("addLiquidity"))))}},912:function(e,t,n){"use strict";var r=n(29),a=n(34),i=n(39),u=n(40),o=n(108),c=n(2),l=n(0),s=n.n(l),f=n(3),m=n(58),d=n(872),b=n(851);function p(){var e=Object(c.a)(["\n  path {\n    stroke: ",";\n  }\n"]);return p=function(){return e},e}function h(){var e=Object(c.a)(["\n  path {\n    stroke: ",";\n  }\n"]);return h=function(){return e},e}function v(){var e=Object(c.a)(["\n  ",";\n  color: ",";\n  text-align: center;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n\n  span {\n    margin-right: 12px;\n  }\n\n  img {\n    height: 0.75rem;\n    width: 0.75rem;\n  }\n"]);return v=function(){return e},e}function E(){var e=Object(c.a)(["\n  background-color: ",";\n  padding: 1.5rem;\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  margin-top: 1rem;\n"]);return E=function(){return e},e}function g(){var e=Object(c.a)(["\n  color: ",";\n  font-size: 0.75rem;\n  text-align: center;\n  margin-top: 1rem;\n  padding-top: 1rem;\n"]);return g=function(){return e},e}var y=f.d.div(g(),(function(e){var t=e.error,n=e.theme;return t?n.salmonRed:n.doveGray})),O=f.d.div(E(),(function(e){return e.theme.concreteGray})),j=f.d.div(v(),(function(e){return e.theme.flexRowNoWrap}),(function(e){return e.theme.royalBlue})),T=Object(f.d)((function(e){e.isError,e.highSlippageWarning;var t=Object(o.a)(e,["isError","highSlippageWarning"]);return s.a.createElement(d.a,t)}))(h(),(function(e){return e.theme.royalBlue})),w=Object(f.d)((function(e){e.isError,e.highSlippageWarning;var t=Object(o.a)(e,["isError","highSlippageWarning"]);return s.a.createElement(b.a,t)}))(p(),(function(e){return e.theme.royalBlue})),A=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={showDetails:!1},e}return Object(a.a)(n,[{key:"renderDetails",value:function(){return this.state.showDetails?s.a.createElement(O,null,this.props.renderTransactionDetails()):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.openDetailsText,r=t.closeDetailsText,a=t.contextualInfo,i=t.isError;return a?s.a.createElement(y,{error:i},a):s.a.createElement(s.a.Fragment,null,s.a.createElement(j,{onClick:function(){!e.state.showDetails&&m.a.event({category:"Advanced Interaction",action:"Open Advanced Details",label:"Pool Page Details"}),e.setState((function(e){return{showDetails:!e.showDetails}}))}},this.state.showDetails?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,r),s.a.createElement(w,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,n),s.a.createElement(T,null))),this.renderDetails())}}]),n}(l.Component);A.defaultProps={openDetailsText:"Advanced Details",closeDetailsText:"Hide Advanced",renderTransactionDetails:function(){},contextualInfo:"",isError:!1},t.a=A}}]);
//# sourceMappingURL=16.495fad57.chunk.js.map